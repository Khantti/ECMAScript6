<!DOCTYPE html>
<html>
    <head>
        <title>Iteration</title>
    </head>
    <body>
        
        <script type="text/javascript">

            // => Array Callback Method

            // forEach
            // map
            // filter
            // find
            // reduce
            // some
            // every
            // find            

            // for(let x = 0;x < array.length;x++){
            //     code to be executed
            // }

            // for(let key in array){
            //     code to be executed
            // }

            // for(let value of array){
            //     code to be executed
            // }

            document.write("<h3>For Loop</h3>");

            let mycolors = ["red","green","blue","orange","gray"];

            for(let x = 0; x<mycolors.length; x++){
                document.write(mycolors[x]+"<br/>");
            }


            document.write("<h3>For In Loop</h3>"); // for object / array (only with bracket notation output)

            let customers = {
                name: "Aung Aung",
                city: "Mandalay",
                parent: "U Ba",
                phone: "0123456789"
            };

            // console.log(customers);
            // console.log(customers.name);
            // console.log(customers["name"]);

            for (let key in customers){
                // console.log(key);
                // console.log(customers.key); //undefined
                // console.log(customers[key]); 
                document.write(key + " = " + customers[key] + "<br/>");
            }

            const ourteams = ["kyaw kyaw","aung aung","maung maung","kaung kaung"];

            for(let idx in ourteams){
                // console.log(idx);
                // console.log(ourteams[idx]);
                document.write("For in Loop result = " + ourteams[idx] + "<br/>");
            }


            document.write("<h3>For of Loop</h3>"); // for array
            
            const members = ["su su","lu lu","nu nu","yu yu"];

            for(let member of members){
                // console.log(member);

                document.write("For of Loop result = " + member + "<br/>");
            }


            document.write("<h3>forEach Loop</h3>"); 

            const students = ["su su","lu lu","nu nu","yu yu","phu phu"];

            students.forEach(student=>{
                // console.log(student);
                document.write("forEach loop result = " + student + "<br/>");
            });

            const colors = ["red","green","blue","white","black"];

            colors.forEach((color,idx)=>{
                // console.log(`Index number is = ${idx} Color is = ${color}`);
                document.write(`Index number is = ${idx} Color is = ${color} <br/>`);
            });


            document.write("<h3>map Loop</h3>");

            const employees = ["su su","lu lu","nu nu","yu yu","phu phu"];

            employees.map(employee =>{
                // console.log(employee); // string
                document.write("map loop result = " + employee + "<br/>");
            });

            const ladies = employees.map((employee,idx)=>{
                // return `Ms. ${employee}`; 
                return `${++idx} Ms.${employee}`;
            });
            console.log(ladies);

            const visitors = ["ko sai","m zaw naw","june","htet aung kyaw","paing sis"];

            const guys = visitors.map(visitor => `Mr.${visitor}`);
            console.log(guys); 

            visitors.forEach(visitor => {
                console.log(`forEach result = Mr.${visitor}`);
            });

            // const peoples = visitors.forEach(visitor => {
            //     return `forEach result = Mr.${visitor}`;
            // });
            // console.log(peoples); // undefined

            const employers = ["su su","lu lu","nu nu","yu yu","phu phu"];
            
            const arrs1 = employers.map(employer=>{
                return employer;
            });
            
            const arrs2 = arrs1.filter(owner=>{
                if(owner === "nu nu"){
                    return false;
                }else{
                    return true;
                }
            });
            console.log(arrs2);
            console.log(arrs1);

            const owners = employers.map(employer=>{
                return `Ms.${employer}`;
            }).filter(owner=>{
                // if(owner === "nu nu"){
                //     return false;
                // }else{
                //     return true;
                // }

                if(owner === "Ms.nu nu"){
                    return false;
                }
                
                return true;
            });
            console.log(owners);

            const firstname = ["aung","kyaw","soe"];

            const name1 = firstname.map(firstname=>{
                return `${firstname} ko ko`;
            });
            console.log(name1);

            const name2 = firstname.map(firstname=>{
                return `${firstname} hla`;
            });
            console.log(name2);

            const name3 = firstname.map(firstname=>`${firstname} lwin`);
            console.log(name3);

            const name4 = firstname.map(()=>`lwin`);
            console.log(name4);

            const sport = "bike";
            const contestents = ["aung aung","kyaw kyaw","maung maung","tun tun","linn linn"];

            const winners = contestents.map((contestent,idx)=>({
                name:contestent,
                // game:sport,
                sport,
                prize:++idx
            }));
            console.log(winners);

            document.write("<h3>Filter </h3>");
            const ages = [20,25,21,17,35,16,50,17,11,80,10,18,12,15,37];

            const getover18 = ages.filter(age=>{
                return age > 18;
            });
            // console.log(getover18);

            document.write("filter result = "+ getover18 + "<br/>");

            const getover20 = ages.filter(age => age >= 20);
            // console.log(getover20);

            // reduce

            // mainarrays.reduce(function(previousvalue,currentvalue,currentIndex,array){},initialvalue or additionalvalue);

            const amounts = [10,20,30];
            const result = amounts.reduce(function(total,curr){
                total += curr;
                return total;
            },0);

            console.log(result); // 60

            const sumresult = amounts.reduce((total,curr)=>(total += curr),0).toFixed(2);
            console.log(sumresult); //60.00
            console.log(typeof sumresult); 

            const numbers = [10,200,30,40,50,60,70,80,90,100,500,0];
            const getresult = numbers.reduce((prev,curr)=>{
                // if(curr > prev){
                //     return curr;
                // }

                if(curr > prev){
                    return curr;
                }

                return prev;
            },0);
            console.log(getresult);

            // max curr return
            //  10  10   10
            //  10  200  200
            //  200 30   200
            //  200 40   200 ....
            //  200 500  500
            //  500 0    500

            // includes()

            const animals = ['cat','dog','fish','owl','monkey',500,1000];
            console.log(animals);
            console.log(animals.includes('dog')); // true
            console.log(animals.includes('Dog')); // false
            console.log(animals.includes('do')); // false
            console.log(animals.includes('owl')); // true
            console.log(animals.includes(500)); // true
            console.log(animals.includes('1000')); // false

            const articles = [
                {
                    title: 'this is new article 1',
                    author: 'u ba',
                    rating: 2.8,
                    types: ['book','ebook','cd']
                },
                {
                    title: 'this is new article 2',
                    author: 'u hla',
                    rating: 4.3,
                    types: ['book','cd']
                },
                {
                    title: 'this is new article 3',
                    author: 'daw mya',
                    rating: 4.5,
                    types: ['book','ebook','cd']
                },
                {
                    title: 'this is new article 4',
                    author: 'daw nu',
                    rating: 3.1,
                    types: ['ebook','cd']
                }

            ];

            const goodratings = articles.filter(article=>article.rating > 4);
            console.log(goodratings);

            const getbooks = articles.filter(article => {
                const result = article.types.includes('book');
                return result;
            });

            console.log(getbooks);

            // every() vs some() return boolean

            const boys = ['aung aung','kyaw aung','zin maung','soe naung'];

            const checklength = boys.every(boy=>{
                return boy.length === 9;
            });

            console.log(checklength); // true

            let firstletterwitha = boys.every(boy=>boy[0] === 'a');
            console.log(firstletterwitha); // false

            let lastletterwithg = boys.every(boy=>boy[boy.length-1] === 'g');
            console.log(lastletterwithg); // false

            let fstletterwitha = boys.some(boy=>boy[0] === 'a');
            console.log(fstletterwitha); // true

            let lstletterwithg = boys.some(boy=>boy[boy.length-1] === 'g');
            console.log(lstletterwithg); // true


            document.write("<h3>find() Method</h3>")

            const users = [
                {name:"aung aung",age:20},
                {name:"kyaw kyaw",age:21},
                {name:"tun tun",age:22},
                {name:"zaw zaw",age:23},
                {name:"linn linn",age:24}
            ]

            console.log(users);

            const filterresult = users.filter(function(user){
                return user.name === "zaw zaw";
            });

            console.log(filterresult); // [{…}]

            const findresult = users.find(function(user){
                return user.name === "zaw zaw";
            });

            console.log(findresult); // {name: 'zaw zaw', age: 23}

            const filterbyage = users.filter(function(user){
                return user.age > 22;
            });

            console.log(filterbyage); // [{…}]

            const findbyage = users.find(function(user){
                return user.age > 22; // (2) [{…}, {…}]
            });

            console.log(findbyage); // {name: 'zaw zaw', age: 23}

            const posts = [
                {id:1,title:"New Post One"},
                {id:2,title:"New Post Two"},
                {id:3,title:"New Post Three"}
            ]

            const comment = {post_id:1,message:"nice post one",user_id:10};

            function postcomment(posts,comment){
                return posts.find(function(post){
                    return post.id === comment.post_id;
                });
            }

            console.log(postcomment(posts,comment)); // {id: 1, title: 'New Post One'}

        </script>
    </body>
</html>

